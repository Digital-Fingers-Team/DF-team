<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <!-- ... (نفس محتوى وسم head) ... -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>فريق الأنامل الرقمية | مدرسة الشهيد مدحت طلعت الرسمية للغات</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="icon" type="image/x-icon" href="image/logo.png">
    <link rel="stylesheet" href="static/css/style.css">
    <meta name="description" content="فريق الأنامل الرقمية - فريق طلابي في مدرسة الشهيد مدحت طلعت الرسمية للغات يهدف إلى تطوير مهارات البرمجة والتقنية بين الطلاب من خلال مشاريع وتدريبات وفعاليات متنوعة.">
    <style>
        html { scroll-behavior: smooth; }
        .hero-section { position: relative; overflow: hidden; }
        #three-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; background: transparent; }
        .hero-content, .hero-image { position: relative; z-index: 1; }
        .hero-title, .hero-desc, .hero-btns a, .stat-card, .training-card, .testimonial-card, .leader-card { opacity: 0; transform: translateY(20px ); will-change: transform, opacity; }
        .btn, .training-card, .testimonial-card { transition: transform 0.3s ease-out; will-change: transform; }
    </style>
</head>
<body data-theme="light">
    
    <!-- ... (نفس محتوى body من القائمة الجانبية إلى التذييل) ... -->
    <!-- القائمة الجانبية -->
    <aside class="side-nav" id="sideNav">
        <div class="side-nav-header">
            <img src="image/logo.png" alt="شعار" class="nav-logo">
            <span class="nav-close" id="closeNav"><i class="fas fa-times"></i></span>
        </div>
        <nav class="side-nav-links">
            <a href="index.html" class="active"><i class="fas fa-home"></i> الرئيسية</a>
            <a href="about.html"><i class="fas fa-users"></i> عن الفريق</a>
            <a href="history.html"><i class="fas fa-clock-rotate-left"></i> تاريخ الفريق</a>
            <a href="members.html"><i class="fas fa-address-book"></i> الأعضاء</a>
            <a href="trainings.html"><i class="fas fa-chalkboard-teacher"></i> التدريبات</a>
            <a href="projects.html"><i class="fas fa-rocket"></i> المشاريع</a>
            <a href="announcements.html"><i class="fas fa-bell"></i> الإعلانات</a>
            <a href="events.html"><i class="fas fa-calendar-check"></i> الفعاليات</a>
            <a href="resources.html"><i class="fas fa-book"></i> الموارد</a>
            <a href="faq.html"><i class="fas fa-question"></i> الأسئلة الشائعة</a>
        </nav>
        <div class="side-nav-footer">
            <div class="side-social">
                <a href="https://www.facebook.com/share/1ErivsfJZ6/" target="_blank"><i class="fab fa-facebook-f"></i></a>
                <a href="https://github.com/Digital-Fingers-Team" target="_blank"><i class="fab fa-github"></i></a>
                <a href="#" target="_blank"><i class="fab fa-instagram"></i></a>
            </div>
            <div class="side-nav-copyright">
                &copy; 2025 فريق الأنامل الرقمية | DF Team
            </div>
        </div>
    </aside>
    <div class="overlay" id="navOverlay"></div>

    <!-- الترويسة -->
    <header class="main-header">
        <div class="header-left">
            <img src="image/logo.png" alt="شعار" class="logo">
            <span class="brand-name">DF Team</span>
        </div>
        <div class="header-center">
            <span class="welcome-message">مرحباً بكم في فريق الأنامل الرقمية</span>
        </div>
        <div class="header-right">
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
            </button>
            <button class="header-menu-btn" id="menuBtn"><i class="fas fa-bars"></i></button>
            <div class="fixed-header-logo">
                <img src="image/logo school .png" alt="شعار المدرسة">
            </div>
        </div>
    </header>

    <!-- الرئيسية/الهيرو -->
    <section class="hero-section container">
        <canvas id="three-canvas"></canvas>
        <div class="hero-content">
            <h1 class="hero-title">فريق الأنامل الرقمية | DF Team</h1>
            <p class="hero-desc">الفريق الصاعد</p>
            <div class="hero-btns">
                <a href="about.html" class="btn btn-primary">تعرف علينا</a>
                <a href="members.html" class="btn btn-primary">فريقنا</a>
            </div>
        </div>
        <div class="hero-image">
        </div>
    </section>

    <!-- الإحصائيات -->
    <section class="container">
        <div class="stats-section">
            <div class="stat-card">
                <i class="fas fa-users"></i>
                <h3 data-stat-number="10">0</h3>
                <p>عضو بالفريق</p>
            </div>
            <div class="stat-card">
                <i class="fas fa-laptop-code"></i>
                <h3 data-stat-number="2">0</h3>
                <p>مشروع تقني</p>
            </div>
            <div class="stat-card">
                <i class="fas fa-chalkboard-teacher"></i>
                <h3 data-stat-number="9">0</h3>
                <p>ورشة تدريبية</p>
            </div>
            <div class="stat-card">
                <i class="fas fa-trophy"></i>
                <h3 data-stat-number="0">0</h3>
                <p>جوائز تقنية</p>
            </div>
        </div>
    </section>

    <!-- قائد الفريق -->
    <section class="leader-section container">
        <h2 class="section-title">قائد الفريق</h2>
        <div class="leader-card">
            <img src="image/ahmed.jpg" alt="قائد الفريق" class="leader-img">
            <div class="leader-info">
                <h3>Ahmed Abdelraouf</h3>
                <span class="leader-role">قائد الفريق</span>
            </div>
            <a href="member-details.html?id=0" class="btn btn-primary btn-sm">عرض الصفحة الشخصية</a>
        </div>
    </section>

    <!-- المشرفين -->
    <section class="leader-section container">
        <h2 class="section-title">المشرفين</h2>
        <div class="leader-card">
            <div class="leader-info">
                <h3>الفريق تحت اشراف الاساتذة:</h3>
            </div>
            <div>
                <p><strong>أ. عبير اسماعيل</strong> تطوير</p>
                <p><strong>أ. سامية محمود</strong> كومبيوتر</p>
                <p><strong>أ. هبة محمد</strong> كومبيوتر</p>
                <p><strong>أ. منى شوقي</strong> إعلامية الفريق</p>
            </div>
        </div>
    </section>

    <!-- أحدث التدريبات -->
    <section class="trainings-section container">
        <h2 class="section-title">أحدث التدريبات</h2>
        <div class="trainings-grid">
            <div class="training-card">
                <img src="image/WhatsApp Image 2025-08-17 at 01.42.55_b5f8e373.jpg" alt="تدريب" class="training-img">
                <div class="training-info">
                    <h3>مهارات التواصل الفعال</h3>
                    <span class="training-date"><i class="far fa-calendar-alt"></i> 13 اغسطس 2025</span>
                    <p>لتطوير المهارات كثل التواصل مع المتدربين و مهارات الإلقء امام الجمهور و غيرها من المهارات المهمة في المجال</p>
                    <a href="trainings.html" class="btn btn-primary btn-xs">التفاصيل</a>
                </div>
            </div>
            <div class="training-card">
                <img src="image/IMG-20250820-WA0210.jpg" alt="تدريب" class="training-img">
                <div class="training-info">
                    <h3>منحة إعداد مهارات القادة</h3>
                    <span class="training-date"><i class="far fa-calendar-alt"></i> 20 أغسطس 2025</span>
                    <p>تم تدريب مهارات تدريب المدربين لمعرفة كيف تصبح مدرب ناجح</p>
                    <a href="trainings.html" class="btn btn-primary btn-xs">التفاصيل</a>
                </div>
            </div>
            <div class="training-card">
                <img src="image/IMG-20250820-WA0213.jpg" alt="تدريب" class="training-img">
                <div class="training-info">
                    <h3>كورس scratch</h3>
                    <span class="training-date"><i class="far fa-calendar-alt"></i> 25 أغسطس 2025</span>
                    <p>ورشة تدريبية تفاعلية تعرّف المشاركين بأساسيات البرمجة باستخدام بيئة Scratch...</p>
                    <a href="trainings.html" class="btn btn-primary btn-xs">التفاصيل</a>
                </div>
            </div>
            <div class="training-card">
                <img src="image/TOT.jpg" alt="تدريب" class="training-img">
                <div class="training-info">
                    <h3>كورس TOT</h3>
                    <span class="training-date"><i class="far fa-calendar-alt"></i> 12 أغسطس 2025</span>
                    <p>تم تدريب مهارات تدريب المدربين لمعرفة كيف تصبح مدرب ناجح</p>
                    <a href="trainings.html" class="btn btn-primary btn-xs">التفاصيل</a>
                </div>
            </div>
        </div>
        <div class="view-all-center">
            <a href="trainings.html" class="btn btn-outline">عرض جميع التدريبات</a>
        </div>
    </section>

    <!-- آراء المتدربين -->
    <section class="testimonials-section container">
        <h2 class="section-title">آراء المتدربين</h2>
        <div class="testimonials-grid">
            <div class="testimonial-card">
                <div class="testimonial-content">
                    تجربة رائعة مع فريق الانامل الرقمية | DF Team، تعلمت الكثير من المهارات التي ساعدتني في بداية مسيرتي.
                </div>
                <div class="testimonial-author">
                    <img src="image/loka.png" alt="متدرب">
                    <span>ملك ممدوح  
<small>متدربة سابقة</small></span>
                </div>
            </div>
            <div class="testimonial-card">
                <div class="testimonial-content">
                 الورش التدريبية كانت عملية ومفيدة والمدربين متعاونين ويمتلكون خبرة كبيرة.
                </div>
                <div class="testimonial-author">
                    <img src="image/profile.jpg" alt="متدربة">
                    <span>سارة أحمد  
<small>متدربة سابقة</small></span>
                </div>
            </div>
        </div>
    </section>

    <!-- التذييل -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <img src="image/logo.png" alt="شعار" class="footer-logo">
                    <h3>فريق الانامل الرقمية</h3>
                    <p>الفريق الصاعد</p>
                </div>
                <div class="footer-col">
                    <h4>روابط سريعة</h4>
                    <ul>
                        <li><a href="index.html">الرئيسية</a></li>
                        <li><a href="about.html">عن الفريق</a></li>
                        <li><a href="members.html">الأعضاء</a></li>
                        <li><a href="trainings.html">التدريبات</a></li>
                        <li><a href="projects.html">المشاريع</a></li>
                        <li><a href="events.html">الفعاليات</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>تواصل معنا</h4>
                    <ul>
                        <li><i class="fas fa-envelope"></i> info@DF.com</li>
                        <li><i class="fas fa-phone"></i> 01080478274</li>
                        <li><i class="fas fa-map-marker-alt"></i> بنها - القليوبية - مصر</li>
                    </ul>
                    <div class="footer-social">
                        <a href="https://www.facebook.com/share/1ErivsfJZ6/" target="_blank"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://github.com/Digital-Fingers-Team" target="_blank"><i class="fab fa-github"></i></a>
                        <a href="#" target="_blank"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                جميع الحقوق محفوظة © 2025 فريق الأنامل الرقمية- DF Team
            </div>
        </div>
    </footer>

    <!-- تضمين المكتبات -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/EffectComposer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/RenderPass.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/UnrealBloomPass.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function( ) {
            // --- إدارة القائمة الجانبية والثيم (بدون تغيير) ---
            // ... (الكود الخاص بالقائمة والثيم يبقى كما هو)
            const sideNav = document.getElementById('sideNav');
            const closeNav = document.getElementById('closeNav');
            const menuBtn = document.getElementById('menuBtn');
            const navOverlay = document.getElementById('navOverlay');
            const themeToggle = document.getElementById('themeToggle');
            const themeIcon = themeToggle.querySelector('i');
            
            const themes = ['light', 'dark', 'purple'];
            let currentThemeIndex = 0;
            
            function applyTheme(themeIndex) {
                document.body.setAttribute('data-theme', themes[themeIndex]);
                if (themes[themeIndex] === 'light') themeIcon.className = 'fas fa-moon';
                else if (themes[themeIndex] === 'dark') themeIcon.className = 'fas fa-star';
                else themeIcon.className = 'fas fa-sun';
                localStorage.setItem('theme', themes[themeIndex]);
            }
            
            themeToggle.addEventListener('click', () => {
                currentThemeIndex = (currentThemeIndex + 1) % themes.length;
                applyTheme(currentThemeIndex);
            });
            
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                currentThemeIndex = themes.indexOf(savedTheme);
                if (currentThemeIndex === -1) currentThemeIndex = 0;
                applyTheme(currentThemeIndex);
            }
            
            const openSideNav = () => { sideNav.classList.add('open'); navOverlay.classList.add('open'); document.body.style.overflow = 'hidden'; };
            const closeSideNav = () => { sideNav.classList.remove('open'); navOverlay.classList.remove('open'); document.body.style.overflow = ''; };

            if (closeNav) closeNav.addEventListener('click', closeSideNav);
            if (menuBtn) menuBtn.addEventListener('click', (e) => { e.preventDefault(); openSideNav(); });
            if (navOverlay) navOverlay.addEventListener('click', closeSideNav);
            document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeSideNav(); });

            function updateWelcomeMessage() {
                const welcomeMessage = document.querySelector('.welcome-message');
                if (!welcomeMessage) return;
                let userData = null;
                try {
                    userData = JSON.parse(localStorage.getItem('userData')) || JSON.parse(sessionStorage.getItem('userData'));
                } catch (error) { console.log('لا توجد بيانات مستخدم مسجل'); }
                if (userData && userData.loggedIn) {
                    welcomeMessage.textContent = `مرحباً بك ${userData.role === 'قائد الفريق' ? 'قائد' : 'عضو'} فريق الأنامل الرقمية (${userData.name})`;
                } else {
                    welcomeMessage.textContent = 'مرحباً بكم في فريق الأنامل الرقمية';
                }
            }
            window.updateWelcomeMessage = updateWelcomeMessage;
            updateWelcomeMessage();

            // --- إعداد مشهد Three.js مع حركة الدخول ---
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('three-canvas'), alpha: true, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            renderer.toneMapping = THREE.ReinhardToneMapping;
            camera.position.z = 2.5;

            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            scene.add(ambientLight);
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1.5);
            directionalLight.position.set(3, 3, 5);
            scene.add(directionalLight);

            const renderScene = new THREE.RenderPass(scene, camera);
            const bloomPass = new THREE.UnrealBloomPass(new THREE.Vector2(window.innerWidth, window.innerHeight), 1.5, 0.4, 0.85);
            bloomPass.threshold = 0;
            bloomPass.strength = 0.6;
            bloomPass.radius = 0.2;
            const composer = new THREE.EffectComposer(renderer);
            composer.addPass(renderScene);
            composer.addPass(bloomPass);

            const loader = new THREE.GLTFLoader();
            let model;
            let introAnimationFinished = false; // متغير لتتبع حالة الحركة

            loader.load(
                'https://raw.githubusercontent.com/ahmedabdelraouf20/DF-team/main/models/logo.glb',
                (gltf ) => {
                    model = gltf.scene;
                    model.traverse((child) => {
                        if (child.isMesh) {
                            child.material.metalness = 0.8;
                            child.material.roughness = 0.3;
                        }
                    });
                    model.scale.set(1.5, 1.5, 1.5);
                    
                    // **الوضع الأولي للنموذج (يسار الشاشة ويدور)**
                    model.position.x = -5; // أقصى اليسار
                    model.rotation.x = Math.PI / 2; // جعله مواجهاً للجانب مثل عملة واقفة
                    
                    scene.add(model);
                    
                    // **بدء تسلسل الحركة باستخدام Anime.js**
                    const introTimeline = anime.timeline({
                        easing: 'easeInOutSine',
                        complete: () => {
                            introAnimationFinished = true; // تم انتهاء حركة الدخول
                        }
                    });

                    introTimeline
                        .add({
                            // المرحلة الأولى: التدحرج من اليسار إلى الوسط
                            targets: model.position,
                            x: 0, // إلى وسط الشاشة
                            duration: 2000,
                            update: () => {
                                // استمرار دوران التدحرج أثناء الحركة
                                model.rotation.y += 0.15; 
                            }
                        })
                        .add({
                            // المرحلة الثانية: الاقتراب للأمام والاستقرار
                            targets: [model.position, model.rotation],
                            z: [0, 0], // يبقى في مكانه على محور Z
                            x: [0, 0], // يبقى في مكانه على محور X
                            y: [0, 0], // يبقى في مكانه على محور Y
                            // إرجاع الدوران إلى الوضع الطبيعي
                            x: 0, 
                            duration: 1500,
                        }, '-=500'); // تبدأ قبل نهاية الحركة السابقة بقليل

                    animate();
                },
                undefined,
                (error) => { console.error('حدث خطأ أثناء تحميل النموذج:', error); }
            );

            let mouseX = 0, mouseY = 0;
            let targetX = 0, targetY = 0;
            const windowHalfX = window.innerWidth / 2;
            const windowHalfY = window.innerHeight / 2;
            document.addEventListener('mousemove', (event) => {
                mouseX = (event.clientX - windowHalfX);
                mouseY = (event.clientY - windowHalfY);
            });

            const clock = new THREE.Clock();
            const animate = () => {
                requestAnimationFrame(animate);
                const elapsedTime = clock.getElapsedTime();
                
                // فقط قم بتطبيق حركة الفأرة والدوران البطيء **بعد** انتهاء حركة الدخول
                if (model && introAnimationFinished) {
                    targetX = mouseX * .001;
                    targetY = mouseY * .001;
                    
                    // حركة دورانية تلقائية بطيئة
                    model.rotation.y += 0.001;

                    // حركة تفاعلية سلسة مع الفأرة
                    model.rotation.y += .5 * (targetX - model.rotation.y);
                    model.rotation.x += .05 * (targetY - model.rotation.x);
                }
                
                composer.render();
            };

            window.addEventListener('resize', () => {
                const width = window.innerWidth;
                const height = window.innerHeight;
                camera.aspect = width / height;
                camera.updateProjectionMatrix();
                renderer.setSize(width, height);
                composer.setSize(width, height);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            });

            // --- حركات Anime.js للعناصر الأخرى (تبقى كما هي) ---
            anime.timeline({ easing: 'easeOutExpo' })
                .add({ targets: '.hero-title', opacity: [0, 1], translateY: [20, 0], duration: 800, delay: 2500 }) // تأخير ظهور النص
                .add({ targets: '.hero-desc', opacity: [0, 1], translateY: [20, 0], duration: 800 }, '-=500')
                .add({ targets: '.hero-btns a', opacity: [0, 1], translateY: [20, 0], duration: 600, delay: anime.stagger(100) }, '-=400');

            const addHoverEffect = (selector, y, scale) => {
                document.querySelectorAll(selector).forEach(el => {
                    el.addEventListener('mouseenter', () => anime({ targets: el, translateY: y, scale: scale, duration: 200, easing: 'easeOutSine' }));
                    el.addEventListener('mouseleave', () => anime({ targets: el, translateY: 0, scale: 1, duration: 200, easing: 'easeOutSine' }));
                });
            };
            addHoverEffect('.btn', -5, 1.05);
            addHoverEffect('.training-card, .testimonial-card', -8, 1.02);

            const observerOptions = { threshold: 0.2, rootMargin: '0px 0px -50px 0px' };
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const target = entry.target;
                        const statNumberEl = target.querySelector('h3[data-stat-number]');
                        if (statNumberEl && !statNumberEl.classList.contains('animated')) {
                            const finalValue = statNumberEl.getAttribute('data-stat-number');
                            anime({ targets: statNumberEl, innerHTML: [0, finalValue], round: 1, easing: 'easeOutExpo', duration: 1500 });
                            statNumberEl.classList.add('animated');
                        }
                        anime({ targets: target, opacity: [0, 1], translateY: [20, 0], duration: 800, easing: 'easeOutExpo', delay: (parseInt(target.dataset.index) % 4) * 100 });
                        observer.unobserve(target);
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.stat-card, .training-card, .testimonial-card, .leader-card').forEach((card, index) => {
                card.dataset.index = index;
                observer.observe(card);
            });

            console.log(`DF developers are saying hii`);
        });
    </script>
</body>
</html>
